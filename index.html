<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Solana Rug Checker</title>
</head>
<body style="background:#111; color:#fff; font-family:sans-serif; display:flex; flex-direction:column; align-items:center; padding:20px;">
  <h1>Solana Rug Checker</h1>
  <p>Enter a token address below:</p>
  
  <div style="display:flex; gap:10px;">
    <input
      id="tokenAddress"
      type="text"
      placeholder="Enter token address"
      style="padding:5px;"
    />
    <button onclick="checkToken()">Rug Check</button>
  </div>

  <div id="result" style="margin-top:20px;"></div>

  <!-- Pull in the Solana Web3.js library from unpkg or jsDelivr -->
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
  <!-- Alternative: <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.js"></script> -->

  <script>
    async function checkToken() {
      const address = document.getElementById('tokenAddress').value.trim();
      const resultDiv = document.getElementById('result');

      if (!address) {
        alert('Please enter a token address!');
        return;
      }

      // Try a different public RPC to avoid 403 blocks
      const RPC_ENDPOINT = "https://rpc.ankr.com/solana";
      // Other public endpoints you can try:
      //   "https://solana-api.projectserum.com"
      //   "https://api.metaplex.solana.com"
      //   "https://api.mainnet.rpcpool.com"

      // Or sign up for QuickNode / Alchemy for your own dedicated URL:
      //   const RPC_ENDPOINT = "https://<YOUR-QUICKNODE-OR-ALCHEMY-URL>/";

      const connection = new solanaWeb3.Connection(RPC_ENDPOINT);

      try {
        const publicKey = new solanaWeb3.PublicKey(address);
        const accountInfo = await connection.getParsedAccountInfo(publicKey);

        if (!accountInfo.value) {
          resultDiv.innerText = `No data found for ${address}.`;
          return;
        }

        const data  = accountInfo.value.data;
        const owner = data?.parsed?.info?.owner || 'N/A';
        const type  = data?.parsed?.type  || 'N/A';
        resultDiv.innerText = `Owner: ${owner}\nType: ${type}`;

      } catch (error) {
        console.error(error);
        resultDiv.innerText = 'Error fetching token info. Check console.';
      }
    }
  </script>
</body>
</html>
