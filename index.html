<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solana Rug Checker</title>
</head>
<body style="background:#111; color:#fff; font-family:sans-serif; display:flex; flex-direction:column; align-items:center; padding:20px;">
  <h1>Solana Rug Checker</h1>
  <p>Enter a token address below:</p>
  
  <div style="display:flex; gap:10px;">
    <input id="tokenAddress" type="text" placeholder="Enter token address" style="padding:5px;"/>
    <button onclick="checkToken()">Rug Check</button>
  </div>

  <div id="result" style="margin-top:20px;"></div>

  <!-- Include the Solana Web3.js library from a CDN (for quick testing) -->
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
  
  <script>
    async function checkToken() {
      const address = document.getElementById('tokenAddress').value.trim();
      const resultDiv = document.getElementById('result');

      if (!address) {
        alert('Please enter a token address!');
        return;
      }

      // Connect to Solana mainnet-beta
      const connection = new solanaWeb3.Connection(
        solanaWeb3.clusterApiUrl('mainnet-beta')
      );

      try {
        // Convert user input to a PublicKey
        const publicKey = new solanaWeb3.PublicKey(address);

        // Fetch basic info about this account
        const accountInfo = await connection.getParsedAccountInfo(publicKey);

        // If no data is found, inform the user
        if (!accountInfo.value) {
          resultDiv.innerText = `No data found for ${address}. Are you sure this is correct?`;
          return;
        }

        // Extract some details
        const data = accountInfo.value.data;
        const owner = data?.parsed?.info?.owner || 'N/A';
        const type  = data?.parsed?.type  || 'N/A';

        // Show results
        resultDiv.innerText = `Owner: ${owner}\nType: ${type}`;

        // Here is where you would add more "rug check" logic,
        // e.g. checking mint authority, freeze authority, top holders, etc.

      } catch (error) {
        console.error(error);
        resultDiv.innerText = 'Error fetching token info. Check console.';
      }
    }
  </script>
</body>
</html>
